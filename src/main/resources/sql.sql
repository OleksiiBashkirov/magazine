create table store
(
    id            int generated by default as identity primary key,
    name          varchar(128)                                                                        not null,
    address       varchar(128) check ( address ~ '^\d{5}, [A-Za-z]{2,25}, [A-Za-z0-9,. ''-]{2,50}$' ) not null,
    edrpou        varchar(8) check ( edrpou ~ '^\d{8}$' ) unique                                      not null,
    specialNumber varchar(9) check ( specialNumber ~ '^[A-Z]{2}-\d{6}$' ) unique                      not null,
    description   varchar(256)
);

create table product
(
    id          int generated by default as identity primary key,
    name        varchar(64)                                                 not null,
    article     varchar(9) check ( article ~ '^\d{4}-\d{4}') unique         not null,
    price       numeric(8, 2) check ( price > 0 and price < 100000 )        not null,
    quantity    numeric(7, 2) check ( quantity >= 0 and quantity <= 10000 ) not null,
    description varchar(256),
    store_id int                                                         references store (id) on delete set null
);
